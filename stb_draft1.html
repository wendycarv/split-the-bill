<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Split the Bill</title>
    <style>
      body {
        background-color: #ffffff;
      }

      h1 {
        text-align: center;
        color: #000000;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        margin: 100px;
        font-size: 100px;
        line-height: 48px;
        letter-spacing: 3px;
      }
      footer {
        text-align: center;
        font-size: 10px;
        font-family: monospace;
        padding-top: 300px;
        color: #000000;
      }
      #startButton {
        display: block;
        padding: 15px 15px;
        margin: 0 auto 20px auto;
        border: none;
        border-radius: 30px;
        background-color: #000000;
        color: white;
        text-align: center;
        font-family: Helvetica;
        font-size: 16px;
        transition: all 200ms ease-in-out;
      }
      #startButton:hover {
        cursor: pointer;
        background-color: #000000;
        color: white;
        font-weight: bold;
        box-shadow: #000000 0 0px 8px 0;
        font-family: Helvetica;
      }
      #myForm {
        display: none;
        text-align: center;
      }
      .personContainer {
        display: flex;
        flex-direction: column;
        align-items: center;
        line-height: 9px;
        margin-bottom: 20px; /* Add some spacing between each person container */
      }
      .personContainer label,
      .personContainer input {
        margin: 5px;
      }
      button[type="add"] {
        display: none;
        padding: 4px 10px;
        margin: 20px auto 20px auto;
        border: none;
        border-radius: 30px;
        background-color: #000000;
        color: white;
        text-align: center;
        font-family: Helvetica;
        font-size: 16px;
        transition: all 200ms ease-in-out;
      }
      button[type="add"]:hover {
        cursor: pointer;
        background-color: #000000;
        color: white;
        font-weight: bold;
        box-shadow: #000000 0 0px 8px 0;
        font-family: Helvetica;
      }
      button[type="submit"] {
        display: none;
        padding: 15px 15px;
        margin: 20px auto 20px auto;
        border: none;
        border-radius: 30px;
        background-color: #000000;
        color: white;
        text-align: center;
        font-family: Helvetica;
        font-size: 16px;
        transition: all 200ms ease-in-out;
      }
      button[type="submit"]:hover {
        cursor: pointer;
        background-color: #000000;
        color: white;
        font-weight: bold;
        box-shadow: #000000 0 0px 8px 0;
        font-family: Helvetica;
      }
      #myForm input[type="text"] {
        border-radius: 30px;
        border-color: #000000;
      }
      #myForm label {
        font-family: Helvetica;
        color: #000000;
      }

      #totalOutput {
        text-align: center;
        font-size: 16px;
        font-weight: bold;
        font-family: Arial, Helvetica, sans-serif;
        padding-top: 30px;
        color: #000000;
      }
    </style>
  </head>
  <body>
    <h1>
      <br />
      Split the Bill
    </h1>
    <button id="startButton" onclick="toggleForm()"> start </button>
    <form id="myForm">
      <div class="personContainer">
        <label for="person">Person:</label>
        <input type="text" class="person" name="person">
        <br>
        <label for="orderName">Order:</label>
        <input type="text" class="orderName" name="orderName">
        <br>
        <label for="orderPrice">Price:</label>
        <input type="text" class="orderPrice" name="orderPrice">
        <br>
      </div>
    </form>
    <button type="add" onclick="addPerson()">+</button>
    <button type="submit" onclick="handleSubmit(event)">submit</button>
    <div id="totalOutput"></div>
    <footer>Coded by Wendy Lima</footer>

    <script>
      function addPerson() {
        var container = document.querySelector(".personContainer");
        var clone = container.cloneNode(true);
        document.getElementById("myForm").appendChild(clone);
      }

      function toggleForm() {
        var button = document.getElementById("startButton");
        var form = document.getElementById("myForm");
        var addBtn = document.querySelector('button[type="add"]');
        var submitBtn = document.querySelector('button[type="submit"]');

        // toggle the visibility
        button.style.display = "none";
        form.style.display = form.style.display === "none" || form.style.display === "" ? "block" : "none";
        addBtn.style.display = addBtn.style.display === "none" || addBtn.style.display === "" ? "block" : "none";
        submitBtn.style.display = submitBtn.style.display === "none" || submitBtn.style.display === "" ? "block" : "none";

      }

      function handleSubmit(event) {
        event.preventDefault();

        var persons = document.querySelectorAll(".person");
        var orderNames = document.querySelectorAll(".orderName");
        var orderPrices = document.querySelectorAll(".orderPrice");
        var total = 0;

        for (var i = 0; i < persons.length; i++) {
          total += parseFloat(orderPrices[i].value) || 0;
        }

        var totalOutput = document.getElementById("totalOutput");
        totalOutput.innerHTML = 'Total for the group: $' + total.toFixed(2);
      }
    </script>
  </body>
</html>
